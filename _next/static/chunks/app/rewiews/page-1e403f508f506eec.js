(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[166],{4847:function(e,t,l){Promise.resolve().then(l.bind(l,9050))},9050:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return page}});var s=l(7437),a=l(7547),c=l(690),d=l(7042),h=l(9576),rewiewCard_RewiewCard=e=>{let{rewiew:t}=e,{theme:l}=(0,c.C)(e=>e.theme),a=t.createdAt.substr(0,10).substr(5).substr(0,2),x=t.createdAt.substr(0,10).substr(5).substr(3),m=t.createdAt.substr(0,10).substr(0,4);return t.createdAt.substr(11,13).substr(0,8),(0,s.jsxs)("div",{className:" mt-16",children:[(0,s.jsx)("div",{className:"mb-2 s9:text-center",children:(0,s.jsx)("span",{className:(0,d.Z)("text-lg",{"text-white":"black"===l,"text-block":"white"===l}),children:t.user.name})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center s9:flex-col",children:[(0,s.jsx)(h.i,{readonly:!0,initialValue:t.raiting,SVGstyle:{display:"inline-block"},size:25,allowFraction:!0,transition:!0}),(0,s.jsx)("div",{className:(0,d.Z)("text-sm ml-3 text-opacity-50 s9:mb-1 s9:mt-1",{"text-white":"black"===l,"text-block":"white"===l}),children:5===t.raiting?(0,s.jsx)("span",{children:"Отличный магазин"}):4===t.raiting?(0,s.jsx)("span",{children:"Хороший магазин"}):3===t.raiting?(0,s.jsx)("span",{children:"Нрмальный магазин"}):2===t.raiting?(0,s.jsx)("span",{children:"Ужасный магазин"}):(0,s.jsx)("span",{children:"Странный магазиг"})}),(0,s.jsx)("div",{className:(0,d.Z)("text-lowLime ml-3 s9:mb-1"),children:(0,s.jsx)("span",{children:"Заказ оформлен на OLI Rewards"})}),(0,s.jsx)("div",{className:(0,d.Z)("ml-3 text-opacity-50",{"text-white":"black"===l,"text-block":"white"===l}),children:(0,s.jsxs)("span",{children:["Доставка ",t.order]})})]}),(0,s.jsx)("div",{className:(0,d.Z)("mt-3 text-xl text-opacity-90 s9:text-center",{"text-white":"black"===l,"text-block":"white"===l}),children:t.text}),(0,s.jsxs)("div",{className:(0,d.Z)("text-opacity-50 mt-5 s9:text-center",{"text-white":"black"===l,"text-block":"white"===l}),children:["Написан ",x," ",(e=>{if(1==e)return"Января";if(2==e)return"Февраля";if(3==e)return"Марта";if(4==e)return"Апреля";if(5==e)return"Мая";if(6==e)return"Июня";if(7==e)return"Июля";else if(8==e)return"Августа";else if(9==e)return"Сентября";else if(10==e)return"Октября";else if(11==e)return"Ноября";else return"Декабря"})(a)," ",m," года"]})]})]})},x=l(2265),flight_HoverPad2=e=>{let{rating:t,count:l}=e,{theme:a}=(0,c.C)(e=>e.theme),[m,v]=(0,x.useState)(l.reduce((e,t)=>e+t.raiting,0)/l.length);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)("span",{className:(0,d.Z)("text-3xl font-semibold",{"text-white":"black"===a,"text-block":"white"===a}),children:"Рейтинг магазина"}),(0,s.jsxs)("div",{className:(0,d.Z)("border mt-10 pl-32 pr-32 pt-10 pb-10 flex justify-between nex:pl-10 nex:pr-10 tel:pr-16 tel:pl-16 s9:pl-2 s9:pr-2 s9:flex-col",{"border-white border-opacity-30 ":"black"===a,"border-block border-opacity-10":"white"===a}),children:[(0,s.jsxs)("div",{className:"s9:mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center s9:justify-center",children:[(0,s.jsx)("span",{className:(0,d.Z)("mr-2 text-xl",{"text-white":"black"===a,"text-block":"white"===a}),children:m}),(0,s.jsx)(h.i,{readonly:!0,initialValue:m,SVGstyle:{display:"inline-block"},size:25,allowFraction:!0,transition:!0})]}),(0,s.jsx)("div",{className:(0,d.Z)("text-opacity-50 s9:text-center",{"text-white":"black"===a,"text-block":"white"===a}),children:"Рейтинг магазина"})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"text-lg s9:text-center",children:[(0,s.jsx)("span",{className:(0,d.Z)({"text-white":"black"===a,"text-block":"white"===a}),children:l.length}),(0,s.jsx)("span",{className:(0,d.Z)("ml-1",{"text-white":"black"===a,"text-block":"white"===a}),children:"отзывов"})]}),(0,s.jsx)("div",{className:"s9:mb-3",children:(0,s.jsx)("span",{className:(0,d.Z)(" text-opacity-50 s9:flex s9:justify-center",{"text-white":"black"===a,"text-block":"white"===a}),children:"За 3 месяца"})})]}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsxs)("div",{className:"text-lg s9:flex s9:justify-center",children:[(0,s.jsx)("span",{className:(0,d.Z)("",{"text-white":"black"===a,"text-block":"white"===a}),children:l.length}),(0,s.jsx)("span",{className:(0,d.Z)("ml-1",{"text-white":"black"===a,"text-block":"white"===a}),children:"отзывов"})]}),(0,s.jsx)("div",{children:(0,s.jsx)("span",{className:(0,d.Z)(" text-opacity-50 s9:flex s9:justify-center",{"text-white":"black"===a,"text-block":"white"===a}),children:"За все время"})})]})]})]})})},m=l(3478),v=l(1919),p=l(5958),f=l(4874),page=()=>{let{theme:e}=(0,c.C)(e=>e.theme),{data:t}=(0,f.a)(["get avg rating"],()=>p.RewiewService.getAvgRating()),{data:l}=(0,f.a)(["get all rewie"],()=>p.RewiewService.getAll()),[h,b]=(0,x.useState)(""),[w,y]=(0,x.useState)("");return(0,s.jsxs)("div",{className:(0,d.Z)({"bg-white":"white"===e,"bg-block":"black"===e}),children:[(0,s.jsxs)("div",{className:"ml-40 mr-40 mx:mr-20 mx:ml-20 hub:mr-5 hub:ml-5 px:ml-20 px:mr-20",children:[(0,s.jsx)(v.Z,{}),(0,s.jsx)(a.Z,{}),(0,s.jsxs)("div",{className:"mt-28",children:[(0,s.jsx)(flight_HoverPad2,{rating:(null==t?void 0:t.data)?t.data:0,count:(null==l?void 0:l.data)?l.data:[]}),(0,s.jsx)("div",{className:(0,d.Z)("mt-10 border-b pb-5",{"border-b-white border-opacity-30 ":"black"===e,"border-b-block border-opacity-10":"white"===e}),children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:(0,d.Z)("text-2xl",{"text-white":"black"===e,"text-block":"white"===e}),children:"Отзывы"}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("span",{className:(0,d.Z)({"text-white":"black"===e,"text-block":"white"===e}),children:"Сортировать:"}),(0,s.jsx)("button",{className:(0,d.Z)("ml-5 hover:text-blue duration-75",{"text-white":"black"===e,"text-block":"white"===e}),children:"по дате"}),(0,s.jsx)("button",{className:(0,d.Z)("ml-5 hover:text-blue duration-75",{"text-white":"black"===e,"text-block":"white"===e}),children:"по оценке"})]})]})}),(0,s.jsx)("div",{children:null==l?void 0:l.data.map(e=>(0,s.jsx)(rewiewCard_RewiewCard,{rewiew:e}))})]})]}),(0,s.jsx)(m.Z,{})]})}},5958:function(e,t,l){"use strict";l.d(t,{RewiewService:function(){return c}});var s=l(5957);let a="rewiews",c={getAll:async()=>(0,s.v)({url:"".concat(a,"/all"),method:"GET"}),getAvgRating:async()=>(0,s.v)({url:"".concat(a,"/avg"),method:"GET"}),createRewiew:async e=>(0,s.Z)({url:"".concat(a,"/create"),method:"POST",data:e})}},9576:function(e,t,l){"use strict";var s=l(7437),a=l(2265),o=function(){return(o=Object.assign||function(e){for(var t,l=1,s=arguments.length;l<s;l++)for(var a in t=arguments[l])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function n(e,t,l){if(l||2==arguments.length)for(var s,a=0,c=t.length;a<c;a++)!s&&a in t||(s||(s=Array.prototype.slice.call(t,0,a)),s[a]=t[a]);return e.concat(s||Array.prototype.slice.call(t))}function i(e){var t=e.size,l=void 0===t?25:t,a=e.SVGstrokeColor,c=e.SVGstorkeWidth,d=e.SVGclassName,h=e.SVGstyle;return s.jsx("svg",o({className:void 0===d?"star-svg":d,style:h,stroke:void 0===a?"currentColor":a,fill:"currentColor",strokeWidth:void 0===c?0:c,viewBox:"0 0 24 24",width:l,height:l,xmlns:"http://www.w3.org/2000/svg"},{children:s.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function r(e,t){switch(t.type){case"PointerMove":return o(o({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return o(o({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return o(o({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function u(){return"undefined"!=typeof window&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}!function(e,t){void 0===t&&(t={});var l=t.insertAt;if(e&&"undefined"!=typeof document){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===l&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,l,c=e.onClick,d=e.onPointerMove,h=e.onPointerEnter,x=e.onPointerLeave,m=e.initialValue,v=void 0===m?0:m,p=e.iconsCount,f=void 0===p?5:p,b=e.size,w=void 0===b?40:b,y=e.readonly,g=void 0!==y&&y,j=e.rtl,k=void 0!==j&&j,N=e.customIcons,_=void 0===N?[]:N,C=e.allowFraction,S=void 0!==C&&C,V=e.style,Z=e.className,G=void 0===Z?"react-simple-star-rating":Z,R=e.transition,A=void 0!==R&&R,M=e.allowHover,I=void 0===M||M,P=e.disableFillHover,T=void 0!==P&&P,E=e.fillIcon,L=void 0===E?null:E,W=e.fillColor,z=void 0===W?"#ffbc0b":W,F=e.fillColorArray,O=void 0===F?[]:F,B=e.fillStyle,H=e.fillClassName,q=void 0===H?"filled-icons":H,J=e.emptyIcon,K=void 0===J?null:J,U=e.emptyColor,D=e.emptyStyle,X=e.emptyClassName,Y=void 0===X?"empty-icons":X,Q=e.allowTitleTag,$=e.showTooltip,ee=e.tooltipDefaultText,et=e.tooltipArray,ei=void 0===et?[]:et,el=e.tooltipStyle,en=e.tooltipClassName,es=void 0===en?"react-simple-star-rating-tooltip":en,er=e.SVGclassName,ea=void 0===er?"star-svg":er,eo=e.titleSeparator,ec=void 0===eo?"out of":eo,ed=e.SVGstyle,eu=e.SVGstorkeWidth,eh=void 0===eu?0:eu,ex=e.SVGstrokeColor,em=void 0===ex?"currentColor":ex,ev=a.useReducer(r,{hoverIndex:0,valueIndex:0,ratingValue:v,hoverValue:null}),ep=ev[0],ef=ep.ratingValue,eb=ep.hoverValue,ew=ep.hoverIndex,ey=ep.valueIndex,eg=ev[1];a.useEffect(function(){v&&eg({type:"MouseClick",payload:0})},[v]);var ej=a.useMemo(function(){return S?2*f:f},[S,f]),ek=a.useMemo(function(){return v>ej?0:S||Math.floor(v)===v?Math.round(v/f*100):2*Math.ceil(v)*10},[S,v,f,ej]),eN=a.useMemo(function(){return(S?2*v-1:v-1)||0},[S,v]),e_=a.useCallback(function(e){return f%2!=0?e/2/10:e*f/100},[f]),Re=function(e){for(var t=e.clientX,l=e.currentTarget.children[0].getBoundingClientRect(),s=l.left,a=l.right,c=l.width,h=k?a-t:t-s,x=ej,m=Math.round(c/ej),v=0;v<=ej;v+=1)if(h<=m*v){x=0===v&&h<m?0:v;break}var p=x-1;x>0&&(eg({type:"PointerMove",payload:100*x/ej,index:p}),d&&eb&&d(e_(eb),p,e))},Te=function(e){eb&&(eg({type:"MouseClick",payload:eb}),c&&c(e_(eb),ew,e))},eC=a.useMemo(function(){if(I){if(T){var e=ef&&ef||ek;return eb&&eb>e?eb:e}return eb&&eb||ef&&ef||ek}return ef&&ef||ek},[I,T,eb,ef,ek]);a.useEffect(function(){ei.length>ej&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[ei.length,ej]);var eS=a.useCallback(function(e){return eb&&e[ew]||ef&&e[ey]||v&&e[eN]},[eb,ew,ef,ey,v,eN]),eV=a.useMemo(function(){return eb&&e_(eb)||ef&&e_(ef)||v&&e_(ek)},[eb,e_,ef,v,ek]);return s.jsxs("span",o({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(k?"rtl":"ltr")}},{children:[s.jsxs("span",o({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(G),style:o({cursor:g?"":"pointer"},V),onPointerMove:g?void 0:Re,onPointerEnter:g?void 0:function(e){h&&h(e),u()&&Re(e)},onPointerLeave:g?void 0:function(e){u()&&Te(),eg({type:"PointerLeave"}),x&&x(e)},onClick:g?void 0:Te,"aria-hidden":"true"},{children:[s.jsx("span",o({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(Y),style:o({color:void 0===U?"#cccccc":U},D)},{children:n([],Array(f),!0).map(function(e,t){var l;return s.jsx(a.Fragment,{children:(null===(l=_[t])||void 0===l?void 0:l.icon)||K||s.jsx(i,{SVGclassName:ea,SVGstyle:ed,SVGstorkeWidth:eh,SVGstrokeColor:em,size:w})},t)})})),s.jsx("span",o({className:"".concat("style-module_fillIcons__6---A"," ").concat(q),style:o(((t={})[k?"right":"left"]=0,t.color=eS(O)||z,t.transition=A?"width .2s ease, color .2s ease":"",t.width="".concat(eC,"%"),t),B),title:void 0===Q||Q?"".concat(eV," ").concat(ec," ").concat(f):void 0},{children:n([],Array(f),!0).map(function(e,t){var l;return s.jsx(a.Fragment,{children:(null===(l=_[t])||void 0===l?void 0:l.icon)||L||s.jsx(i,{SVGclassName:ea,SVGstyle:ed,SVGstorkeWidth:eh,SVGstrokeColor:em,size:w})},t)})}))]})),void 0!==$&&$&&s.jsx("span",o({className:"".concat("style-module_tooltip__tKc3i"," ").concat(es),style:o(((l={})[k?"marginRight":"marginLeft"]=20,l),el)},{children:(ei.length>0?eS(ei):eV)||(void 0===ee?"Your Rate":ee)}))]}))}}},function(e){e.O(0,[582,306,447,420,712,400,83,691,529,164,484,971,864,744],function(){return e(e.s=4847)}),_N_E=e.O()}]);